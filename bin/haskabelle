#!/bin/bash
#
# Author: Florian Haftmann, TU Muenchen
#
# Shell interface for Haskabelle.

## environment

PRG="$(basename "$0")"
HASKABELLE_HOME="$(cd "$(dirname "$0")"; cd "$(pwd -P)"; cd ..; pwd)"
if [ -z "$GHC" ]
then
  GHC=ghc
fi

## processing command line arguments
 
if [ $# -lt 1 ]
then
  ARGS=""
else
  ARGS="\"$1\""
  shift
  for ARG in "$@"
  do
    ARGS="$ARGS, \"$1\""
    shift
  done
fi

## invoking Haskabelle

"$GHC" -fglasgow-exts -i -i"$HASKABELLE_HOME" -e "mainInterface [$ARGS]" "$HASKABELLE_HOME/Main.hs" || exit $?
